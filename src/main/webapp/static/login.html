<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8"></meta>
    <title></title>
    <link rel="stylesheet" href="css/login.css">
    <script type="text/javascript" src="./js/jquery-3.0.0.js"></script>
    <script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.js"></script>
    <script src="http://www.gongjuji.net/Content/files/jquery.md5.js"></script>
	</link>
</head>
<body>
<div class="main">
 <div class="login">
     <div class="wel">Welcome</div>
     <div class="userblock">
         <div class="inputtitle">Username</div>
         <input class="logininput username" type="text" placeholder="请输入用户名">
     </div>
     <div class="pwblock">
         <div class="inputtitle">Password</div>
         <input class="logininput Password" type="password" placeholder="请输入密码">
     </div>
     <div class="signinbtn">
         <a href="javascript:;" id="btnLogin">Login</a>
     </div>
     <div class="registbtn"><a href="other/regist.html">没有账号，去注册>></a></div>
 </div>
</div>

</body>
</html>
<script type="text/javascript">
    $(function(){
        $("#btnLogin").click(function(){
            var username = $(".username").val();//取值
            var tem=$(".Password").val();
            var password = $.md5(tem);
            //alert(password);
            //$('.Password').val(password);
            if(!username){
                alert("用户名必填!");
                $(".username").focus();//获取焦点
                return ;
            }
            if(!tem){
                alert("密码必填!");
                $(".Password").focus();//获取焦点
                return ;
            }
            //var param = "username="+username+"&password="+password;
            var param = {"username":username,"password":password};
            //3.调用登录接口实现登录
            $.ajax({
                method:"post",
                url: 'http://localhost/SafeCloud/login',
                data: {
                    username: username,
                    password: password
                },

                //4.如果用户登录成功跳转到
                success:function (data){
                    var code=data.code;
                    if(code==200)
                    {
                        alert("登录成功");
                        $.ajax({
                            method:"post",
                            data:{"name":username},
                            url:"",
                            success:function (data){
                                document.cookie=JSON.stringify(data);//cookie
                                location.href="./other/person.html";
                            }
                        });
                    }
                },
                error:function(error){
                    alert("用户名或密码错误！")
                }

            })
        });
    });
</script>